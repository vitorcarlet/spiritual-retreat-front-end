@startuml name "Inscrição Manual via Sistema"
actor Gestor
participant "Gestão de Retiros" as Retreat
participant "Gestão de Inscrições" as ModuloInscricoes
participant "Formulário Manual" as Form
participant "Importador .CSV" as CSV
participant "Validador de Dados" as Validator
participant "Backend de Inscrições" as Backend
participant "Resumo de Resultados" as Resultado

== Acesso ao módulo ==
Gestor -> Retreat : Acessa tela de gestão de retiros
Gestor -> Retreat : Seleciona retiro específico
Gestor -> ModuloInscricoes : Seleciona para módulo de inscrições
ModuloInscricoes -> ModuloInscricoes : Exibe opções (Cadastro manual ou Importação)

== Inclusão individual ==
Gestor -> Form : Preenche dados (mesmos campos do formulário público)
Gestor -> Form : Clica em "Salvar"
Form -> Validator : Valida CPF, data de nascimento, obrigatórios
Validator -> Backend : Verifica se CPF está bloqueado
Backend --> Validator : CPF bloqueado ou liberado
alt CPF bloqueado
    Validator --> Resultado : Retorna erro "CPF bloqueado"
    Resultado -> Gestor : Exibe erro na inscrição
else Dados válidos
    Validator --> Form : Dados válidos
    Form -> Backend : Envia dados da inscrição
    Backend -> Backend : Armazena inscrição
    Backend --> Resultado : Retorna sucesso
    Resultado -> Gestor : Exibe mensagem de sucesso
end

== Importação via .CSV ==
Gestor -> CSV : Seleciona arquivo .csv
CSV -> Validator : Valida formato e conteúdo de múltiplas linhas
Validator --> CSV : Retorna linhas válidas e com erro
CSV -> Backend : Envia inscrições válidas
Backend -> Backend : Armazena em lote
Backend --> Resultado : Retorna contagem de sucessos e falhas
Resultado -> Gestor : Exibe resumo da operação (.csv processado com feedback)
@enduml
