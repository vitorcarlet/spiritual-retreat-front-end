import { Report } from "@/src/types/reports";
import { mockFamilies } from "../retreats/families";
import { columnsMock } from "./columns";

type FamilyReportRow = {
  id: string;
  familyId: number;
  familyName: string;
  color: string;
  contactName: string;
  contactEmail: string;
  contactPhone: string;
  membersCount: number;
  createdAt: string;
  updatedAt: string;
  locked: boolean;
  members: Array<{
    id: number;
    fullName: string;
    firstName: string;
    lastName: string;
    email: string;
    phone: string;
    city: string;
    state: string;
    status: string;
  }>;
};

type FiveMinutesCardRow = {
  id: string;
  participantId: number;
  fullName: string;
  familyId: number;
  familyName: string;
  familyColor: string;
  confirmed: boolean;
};

const familyReportRows: FamilyReportRow[] = mockFamilies.map((family) => {
  const members = (family.members ?? []).map((member) => ({
    id: member.id,
    fullName:
      member.name || `${member.firstName ?? ""} ${member.lastName ?? ""}`.trim(),
    firstName: member.firstName ?? "",
    lastName: member.lastName ?? "",
    email: member.email,
    phone: member.phone,
    city: member.city,
    state: member.state,
    status: member.status,
  }));

  return {
    id: String(family.id),
    familyId: family.id,
    familyName: family.name,
    color: family.color,
    contactName: family.contactName,
    contactEmail: family.contactEmail,
    contactPhone: family.contactPhone,
    membersCount: family.membersCount,
    createdAt: family.createdAt,
    updatedAt: family.updatedAt,
    locked: Boolean(family.locked && members.length > 0),
    members,
  } satisfies FamilyReportRow;
});

const familyReportSummary = familyReportRows.reduce(
  (acc, family) => {
    acc.totalParticipants += family.members.length;
    if (family.locked) acc.lockedFamilies += 1;
    return acc;
  },
  {
    totalFamilies: familyReportRows.length,
    totalParticipants: 0,
    lockedFamilies: 0,
  }
);

const familyReportColumns = [
  { field: "familyName", headerName: "Família", type: "string" },
  { field: "membersCount", headerName: "Participantes", type: "number" },
  { field: "contactName", headerName: "Contato", type: "string" },
  { field: "contactPhone", headerName: "Telefone", type: "string" },
];

const fiveMinutesCardRows: FiveMinutesCardRow[] = mockFamilies.flatMap(
  (family) =>
    (family.members ?? []).map((member) => ({
      id: `${family.id}-${member.id}`,
      participantId: member.id,
      fullName:
        member.name ||
        `${member.firstName ?? ""} ${member.lastName ?? ""}`.trim(),
      familyId: family.id,
      familyName: family.name,
      familyColor: family.color,
      confirmed: true,
      email: member.email,
      phone: member.phone,
      city: member.city,
      state: member.state,
      status: member.status,
    }))
);

const fiveMinutesCardSummary = {
  totalParticipants: fiveMinutesCardRows.length,
};
export const mockReports: Report[] = [
  {
    id: "1",
    name: "Relatório de Inscrições",
    type: "participant",
    sections: ["Inscrições", "Pagamentos", "Formulários"],
    dateCreation: "2025-01-15T10:30:00Z",
    preFilters: {
      reportFilters: [1, 2, 3],
      customReportFilters: [22],
    },
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
    period: {
      from: "2025-01-01T00:00:00Z",
      to: "2025-01-15T10:30:00Z",
    },
  },
  {
    id: "2",
    type: "participant",
    name: "Análise de Participação",
    sections: ["Presença", "Atividades", "Feedback"],
    dateCreation: "2025-02-20T14:45:00Z",
    retreatName: "Retiro de Inverno 2025",
    retreatId: "2",
    period: {
      from: "2025-02-01T00:00:00Z",
      to: "2025-02-20T14:45:00Z",
    },
  },
  {
    id: "3",
    type: "participant",
    name: "Relatório de Equipes",
    sections: ["Voluntários", "Coordenadores", "Distribuição"],
    dateCreation: "2024-12-10T09:15:00Z",
    retreatName: "Retiro Jovem 2024",
    retreatId: "3",
    period: {
      from: "2024-12-01T00:00:00Z",
      to: "2024-12-10T09:15:00Z",
    },
  },
  {
    id: "4",
    type: "participant",
    name: "Análise de Custos",
    sections: ["Alimentação", "Hospedagem", "Materiais"],
    dateCreation: "2025-03-05T16:20:00Z",
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
    period: {
      from: "2025-03-01T00:00:00Z",
      to: "2025-03-05T16:20:00Z",
    },
  },
  {
    id: "5",
    type: "families",
    name: "Relatorio de familias",
    sections: ["Alimentação", "Hospedagem", "Materiais"],
    dateCreation: "2025-03-05T16:20:00Z",
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
  },
  {
    id: "6",
    type: "fiveMinutesCard",
    name: "Relatorio de 5 minutos participante",
    sections: ["Participante"],
    dateCreation: "2025-03-05T16:20:00Z",
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
  },
];

export const mockReportDetails: Array<Record<string, unknown>> = [
  {
    id: "1",
    type: "participant",
    name: "Relatório de Inscrições",
    preFilters: {
      reportFilters: [1, 2, 3],
      customReportFilters: [22],
    },
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
    columns: columnsMock,
    rows: [
      {
        id: 1,
        nome_completo: "Ana Souza",
        cpf: "012.345.678-90",
        sexo: "Feminino",
        data_nascimento: "15/03/1995",
        idade: 30,
        gravida: "Não",
        peso: 65,
        altura: 168,
        estado_civil: "Solteira",
        profissao: "Analista de Marketing",
        tamanho_camiseta: "M",
        endereco: "Rua das Flores, 123",
        bairro: "Centro",
        cidade: "Florianópolis",
        estado: "SC",
        email: "ana.souza@email.com",
        usuario_facebook: "anasouza",
        instagram: "@anasouza_",
        whatsapp: "48 99876-5432",
        celular: "48 99876-5432",
        celular_vizinho: "48 99123-4567",
        celular_parente: "48 99543-2109",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: ["RahaminVida VII - Fevereiro 2019 - Caçador"],
        pai_esta: "Vivo",
        nome_pai: "José Souza",
        celular_pai: "48 98877-6633",
        mae_esta: "Viva",
        nome_mae: "Maria Silva",
        celular_mae: "48 97766-5544",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Sim",
        grau_parentesco: "Amigo(a)",
        nomes_parente_amigo: "Pedro Oliveira",
      },
      {
        id: 2,
        nome_completo: "Pedro Oliveira",
        cpf: "987.654.321-09",
        sexo: "Masculino",
        data_nascimento: "22/07/1988",
        idade: 37,
        gravida: "Não",
        peso: 82,
        altura: 175,
        estado_civil: "Casado(a)",
        profissao: "Engenheiro Civil",
        tamanho_camiseta: "G",
        endereco: "Avenida do Sol, 456",
        bairro: "Kobrasol",
        cidade: "São José",
        estado: "SC",
        email: "pedro.oliveira@email.com",
        usuario_facebook: "pedro.oliveira",
        instagram: "@pedro.o",
        whatsapp: "48 99123-4567",
        celular: "48 99123-4567",
        celular_vizinho: "48 99876-5432",
        celular_parente: "48 99543-2109",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Sim, apêndice, 2 meses",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Vivo",
        nome_pai: "Carlos Oliveira",
        celular_pai: "48 98765-4321",
        mae_esta: "Viva",
        nome_mae: "Sandra Oliveira",
        celular_mae: "48 96543-2109",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Sim",
        grau_parentesco: "Amigo(a)",
        nomes_parente_amigo: "Ana Souza",
      },
      {
        id: 3,
        nome_completo: "Camila Costa",
        cpf: "111.222.333-44",
        sexo: "Feminino",
        data_nascimento: "08/11/1999",
        idade: 25,
        gravida: "Não",
        peso: 58,
        altura: 165,
        estado_civil: "Solteira",
        profissao: "Estudante",
        tamanho_camiseta: "P",
        endereco: "Rua do Cedro, 789",
        bairro: "Jardim",
        cidade: "Caçador",
        estado: "SC",
        email: "camila.c@email.com",
        usuario_facebook: "camila.c",
        instagram: "@camila.costa",
        whatsapp: "49 98888-7777",
        celular: "49 98888-7777",
        celular_vizinho: "49 99999-8888",
        celular_parente: "49 97777-6666",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Evangélica",
        inscricao_anterior_rahamin_nao_chamado:
          "RahaminVida XIII - Novembro 2024 - Caçador",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Vivo",
        nome_pai: "Alex Costa",
        celular_pai: "49 98765-1234",
        mae_esta: "Viva",
        nome_mae: "Beatriz Costa",
        celular_mae: "49 98888-9999",
        perda_familiar_6_meses: "Sim, avó",
        parente_amigo_na_inscricao: "Não",
      },
      {
        id: 4,
        nome_completo: "Lucas Santos",
        cpf: "444.555.666-77",
        sexo: "Masculino",
        data_nascimento: "01/05/1990",
        idade: 35,
        gravida: "Não",
        peso: 90,
        altura: 180,
        estado_civil: "Divorciado(a)",
        profissao: "Programador",
        tamanho_camiseta: "GG",
        endereco: "Rua da Paz, 987",
        bairro: "Vila Nova",
        cidade: "Blumenau",
        estado: "SC",
        email: "lucas.s@email.com",
        usuario_facebook: "lucas.s",
        instagram: "@lucas_santos",
        whatsapp: "47 99111-2222",
        celular: "47 99111-2222",
        celular_vizinho: "47 99222-3333",
        celular_parente: "47 99333-4444",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Nenhuma",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: "RahaminVida IX - Outubro 2022 - Caçador",
        pai_esta: "Falecido",
        nome_pai: "N/A",
        celular_pai: "N/A",
        mae_esta: "Viva",
        nome_mae: "Eliana Santos",
        celular_mae: "47 99444-5555",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Não",
      },
      {
        id: 5,
        nome_completo: "Mariana Lima",
        cpf: "888.999.000-11",
        sexo: "Feminino",
        data_nascimento: "29/02/1984",
        idade: 41,
        gravida: "Sim (até 3 meses)",
        peso: 70,
        altura: 160,
        estado_civil: "Casado(a)",
        profissao: "Gerente de Projetos",
        tamanho_camiseta: "G",
        endereco: "Rua das Oliveiras, 321",
        bairro: "Centro",
        cidade: "Joinville",
        estado: "SC",
        email: "mariana.l@email.com",
        usuario_facebook: "mariana.l",
        instagram: "@mariana_lima",
        whatsapp: "47 98888-1111",
        celular: "47 98888-1111",
        celular_vizinho: "47 98888-2222",
        celular_parente: "47 98888-3333",
        deficiencia_fisica: "Sim, mobilidade reduzida",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Vivo",
        nome_pai: "Fernando Lima",
        celular_pai: "47 99999-0000",
        mae_esta: "Viva",
        nome_mae: "Helena Lima",
        celular_mae: "47 99999-1111",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Não",
      },
      {
        id: 6,
        nome_completo: "Gustavo Ferreira",
        cpf: "222.333.444-55",
        sexo: "Masculino",
        data_nascimento: "10/12/1992",
        idade: 32,
        gravida: "Não",
        peso: 78,
        altura: 178,
        estado_civil: "Solteiro",
        profissao: "Professor",
        tamanho_camiseta: "G",
        endereco: "Rua da Serra, 456",
        bairro: "Centro",
        cidade: "Lages",
        estado: "SC",
        email: "gustavo.f@email.com",
        usuario_facebook: "gustavo.f",
        instagram: "@gustavo_ferreira",
        whatsapp: "49 98765-4321",
        celular: "49 98765-4321",
        celular_vizinho: "49 98765-5432",
        celular_parente: "49 98765-6789",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: ["RahaminVida V - Fevereiro 2018 - Caçador"],
        pai_esta: "Vivo",
        nome_pai: "Paulo Ferreira",
        celular_pai: "49 99888-7777",
        mae_esta: "Viva",
        nome_mae: "Regina Ferreira",
        celular_mae: "49 99777-6666",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Não",
      },
      {
        id: 7,
        nome_completo: "Juliana Martins",
        cpf: "555.666.777-88",
        sexo: "Feminino",
        data_nascimento: "20/06/1993",
        idade: 32,
        gravida: "Não",
        peso: 60,
        altura: 170,
        estado_civil: "Namorando",
        profissao: "Arquiteta",
        tamanho_camiseta: "M",
        endereco: "Rua do Porto, 789",
        bairro: "Centro",
        cidade: "Itajaí",
        estado: "SC",
        email: "juliana.m@email.com",
        usuario_facebook: "juliana.m",
        instagram: "@ju_martins",
        whatsapp: "47 99666-5555",
        celular: "47 99666-5555",
        celular_vizinho: "47 99555-4444",
        celular_parente: "47 99444-3333",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Vivo",
        nome_pai: "Roberto Martins",
        celular_pai: "47 99333-2222",
        mae_esta: "Viva",
        nome_mae: "Sonia Martins",
        celular_mae: "47 99222-1111",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Sim",
        grau_parentesco: "Namorado(a)",
        nomes_parente_amigo: "Felipe Gomes",
      },
      {
        id: 8,
        nome_completo: "Felipe Gomes",
        cpf: "666.777.888-99",
        sexo: "Masculino",
        data_nascimento: "12/08/1991",
        idade: 34,
        gravida: "Não",
        peso: 75,
        altura: 175,
        estado_civil: "Namorando",
        profissao: "Advogado",
        tamanho_camiseta: "G",
        endereco: "Rua da Praia, 101",
        bairro: "Vila Nova",
        cidade: "Balneário Camboriú",
        estado: "SC",
        email: "felipe.g@email.com",
        usuario_facebook: "felipe.g",
        instagram: "@felipe.gomes",
        whatsapp: "47 99111-0000",
        celular: "47 99111-0000",
        celular_vizinho: "47 99000-1111",
        celular_parente: "47 99222-3333",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Vivo",
        nome_pai: "Ricardo Gomes",
        celular_pai: "47 99333-4444",
        mae_esta: "Viva",
        nome_mae: "Cristina Gomes",
        celular_mae: "47 99444-5555",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Sim",
        grau_parentesco: "Namorado(a)",
        nomes_parente_amigo: "Juliana Martins",
      },
      {
        id: 9,
        nome_completo: "Patrícia Ribeiro",
        cpf: "777.888.999-00",
        sexo: "Feminino",
        data_nascimento: "05/04/1986",
        idade: 39,
        gravida: "Não",
        peso: 68,
        altura: 165,
        estado_civil: "Solteira",
        profissao: "Autônoma",
        tamanho_camiseta: "M",
        endereco: "Rua da Floresta, 234",
        bairro: "Centro",
        cidade: "Rio do Sul",
        estado: "SC",
        email: "patricia.r@email.com",
        usuario_facebook: "patricia.r",
        instagram: "@paty_ribeiro",
        whatsapp: "47 98877-6655",
        celular: "47 98877-6655",
        celular_vizinho: "47 98866-5544",
        celular_parente: "47 98855-4433",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "RahaminPorta I - Outubro 2015 - EUA",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Falecido",
        nome_pai: "N/A",
        celular_pai: "N/A",
        mae_esta: "Viva",
        nome_mae: "Cláudia Ribeiro",
        celular_mae: "47 98844-3322",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Não",
      },
      {
        id: 10,
        nome_completo: "Rodrigo Silva",
        cpf: "123.456.789-01",
        sexo: "Masculino",
        data_nascimento: "18/09/1994",
        idade: 31,
        gravida: "Não",
        peso: 80,
        altura: 178,
        estado_civil: "Solteiro",
        profissao: "Técnico em Eletrônica",
        tamanho_camiseta: "G",
        endereco: "Rua do Mato, 567",
        bairro: "Vila",
        cidade: "Chapecó",
        estado: "SC",
        email: "rodrigo.s@email.com",
        usuario_facebook: "rodrigo.s",
        instagram: "@rodrigo.s",
        whatsapp: "49 99111-2222",
        celular: "49 99111-2222",
        celular_vizinho: "49 99222-3333",
        celular_parente: "49 99333-4444",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: "NÃO FIZ",
        pai_esta: "Vivo",
        nome_pai: "Marcelo Silva",
        celular_pai: "49 99444-5555",
        mae_esta: "Viva",
        nome_mae: "Elaine Silva",
        celular_mae: "49 99555-6666",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Não",
      },
      {
        id: 11,
        nome_completo: "Fernanda Santos",
        cpf: "333.444.555-66",
        sexo: "Feminino",
        data_nascimento: "07/01/1987",
        idade: 38,
        gravida: "Não",
        peso: 62,
        altura: 165,
        estado_civil: "Casado(a)",
        profissao: "Enfermeira",
        tamanho_camiseta: "M",
        endereco: "Rua das Rosas, 890",
        bairro: "Centro",
        cidade: "Videira",
        estado: "SC",
        email: "fernanda.s@email.com",
        usuario_facebook: "fernanda.s",
        instagram: "@fe_santos",
        whatsapp: "49 98888-9999",
        celular: "49 98888-9999",
        celular_vizinho: "49 98888-8888",
        celular_parente: "49 98888-7777",
        deficiencia_fisica: "Não",
        cirurgia_recente: "Não",
        religiao: "Católica",
        inscricao_anterior_rahamin_nao_chamado:
          "Não fiz inscrição para Nenhum (nem Vida nem Porta)",
        participou_rahamin_vida: ["RahaminVida II - Outubro 2016 - Caçador"],
        pai_esta: "Falecido",
        nome_pai: "N/A",
        celular_pai: "N/A",
        mae_esta: "Viva",
        nome_mae: "Célia Santos",
        celular_mae: "49 98888-6666",
        perda_familiar_6_meses: "Não",
        parente_amigo_na_inscricao: "Não",
      },
    ],
  },
  {
    id: "5",
    type: "families",
    name: "Relatório de Famílias",
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
    summary: {
      totalFamilies: familyReportSummary.totalFamilies,
      totalParticipants: familyReportSummary.totalParticipants,
      lockedFamilies: familyReportSummary.lockedFamilies,
      generatedAt: new Date("2025-03-06T09:30:00Z").toISOString(),
    },
    columns: familyReportColumns,
    rows: familyReportRows,
  },
  {
    id: "6",
    type: "fiveMinutesCard",
    name: "Relatorio de 5 minutos participante",
    retreatName: "Retiro de Verão 2025",
    retreatId: "1",
    summary: fiveMinutesCardSummary,
    columns: [],
    rows: fiveMinutesCardRows,
  },
];
